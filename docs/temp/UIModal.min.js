!function(e){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&void 0!==module.exports?module.exports=e():window.UIModal=e()}(function(){var e=function(e){e=e||{},this.el=null,this.onshow=e.onshow||function(){},this.onshown=e.onshown||function(){},this.onhide=e.onhide||function(){},this.onhidden=e.onhidden||function(){},this.style={position:"fixed",top:0,left:0,right:0,bottom:0,overflow:"auto",zIndex:e.zIndex||1e3,background:e.background||"rgba(0,0,0,0)"},this.backClose=e.backClose||!1};e.prototype={open:function(e){if(!this.el&&!1!==this.onshow(e)){this._setBodyScroll(),this.el=document.createElement("div"),this.el.className="ui-modal";for(var t in this.style)this.el.style[t]=this.style[t];if(document.body.appendChild(this.el),this.backClose){var o=this;this.el.addEventListener("click",function(e){e.stopPropagation(),e.target===this&&o.close()})}return this.onshown(e)}},close:function(e){if(this.el&&!1!==this.onhide(e)){this.el.remove(),this.el=null;var t=!1;return[].slice.call(document.querySelectorAll(".ui-modal"),function(e,o){if("none"!=getComputedStyle(e).display)return t=!0,!1}),t||this._resetBodyScroll(),this.onhidden(e)}},_setBodyScroll:function(){var e=document.body,t=parseInt(getComputedStyle(document.body).marginRight||0)+parseInt(getComputedStyle(document.body).marginLeft||0);if(-1==e.classList.value.indexOf("ui-modal-open")&&e.clientWidth+t<window.innerWidth){var o,n,i=e.getAttribute("data-scrollInfo"),d=parseInt(getComputedStyle(document.body).paddingRight||0);if(i)n=parseInt(i.split(",")[1]);else{var l=document.createElement("style");l.type="text/css",l.appendChild(document.createTextNode(".ui-modal-open{overflow:hidden;}")),document.querySelector("head").appendChild(l),o=e.style.paddingRight||"",n=function(){var e=document.createElement("div");e.style.cssText="position: absolute;top: -9999px;margin: 0;padding: 0;width: 50px;height: 50px;overflow: scroll;",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}(),e.setAttribute("data-scrollInfo",o+","+n)}e.classList.add("ui-modal-open"),e.style.paddingRight=d+n+"px"}},_resetBodyScroll:function(){var e=document.body;if(-1!=e.classList.value.indexOf("ui-modal-open")){var t=e.getAttribute("data-scrollInfo").split(",");e.classList.remove("ui-modal-open"),e.style.paddingRight=t[0]}}};var t=function(t,o){return new e(t,o)};return t.setBodyScroll=e.prototype._setBodyScroll,t.resetBodyScroll=e.prototype._resetBodyScroll,t});